<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body {
            height: 100vh;
            width: 100vw;
        }

        .conatiner {
            border: 1px solid indigo;
            width: 40vw;

        }
    </style>
</head>

<body class="bg-info d-flex justify-content-center align-items-center">
    <div class="container bg-light p-3 ">
        <h2 class="">Register Form</h2>
        <p>please fill this form to create a account</p>
        <form action="" method="post" class="w-100" id="registrationForm" novalidate>
            <div class="input-group mb-3">
                <span class="input-group-text"><i class="fa-solid fa-user"></i> </span>
                <input type="text" class="form-control input-floating " placeholder="Username" id="name">
                <span id="nameError" class="text-danger"></span>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text"><i class="fa-solid fa-envelope"></i> </span>
                <input type="text" id="email" class="form-control " placeholder="email">
                <span id="emailError" class="text-danger"></span>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text"> <i class="fa-solid fa-lock"></i> </span>
                <input type="password" class="form-control input-floating " placeholder="Passwords" id="password">
                <span id="passwordError" class="text-danger"></span>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text"> <i class="fa-solid fa-lock"></i></span>
                <input type="password" class="form-control input-floating " placeholder="Confirm password"
                    id="confirmpassword">
                <span id="ConfirmpasswordError" class="text-danger"></span>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text"> <i class="fa-solid fa-home"></i></span>
                <textarea name="address" id="address" class="form-control " placeholder="Address"
                    id="address"></textarea>
                <span id="addressError" class="text-danger"></span>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text"> <i class="fa-solid fa-location"></i></span>
                <input id="pincode" type="text" class="form-control" placeholder=" Enter a Pincode">
                <span id="pincodeError" class="text-danger"></span>
            </div>

            <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" name="check" id="check">
                <label for="form-check-label">please click on check box to accept <a href="./Register form.html"> terms
                    </a>& <a href="#">condtions </a></label>

            </div>


            <button type="submit" class="btn btn-info px-3 m-3">Sign In</button>

        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const registrationForm = document.querySelector("#registrationForm");
            registrationForm.addEventListener("submit", (event) => {
                event.preventDefault();
                const showError = (eleId, text) => {
                    document.getElementById(eleId).textContent = text;
                }
                const clearError = (eleId) => {
                    document.getElementById(eleId).textContent = "";

                }


                const formValid = () => {
                    let isValid = true;
                    const name = document.querySelector("#name").value.trim();
                    const email = document.querySelector("#email").value.trim();
                    const password = document.querySelector("#password").value;
                    const confirmpassword = document.querySelector("#confirmpassword").value;
                    const address = document.querySelector("#address").textContent;
                    const pincode = document.querySelector("#pincode").value.trim();

                    //name valid

                    if (name === "") {
                        showError("nameError", "name filed is required");
                        isValid = false;
                    }
                    else if (name.length < 3) {
                        showError("nameError", "name contain atleast 3 letter")
                        isValid = false;
                    }
                    else {
                        clearError("nameError")
                        isValid = true;
                    }

                    //email valid

                    const emailPattern = /^[a=zA-Z0-9+_%+-]+@[a-zA-Z]+\.[a-zA-Z]{3,}$/;
                    if (email === "") {
                        showError("emailError", "email filed is required")
                        isValid = false;
                    }
                    else if (!emailPattern.test(email)) {
                        showError("emailError", " use corect pattern")
                        isValid = false;
                    }
                    else {
                        clearError("emailError")
                        isValid = true;
                    }

                    // password validation
                    const passwordPattern =/^(?=.[A-Z])(?=.[a-z])(?=.[@$%!?&])[A-Za-z\d@#$%^&*?!]{8,}$/
                    if (password === "") {
                        showError("passwordError", "email filed is required")
                        isValid = false;
                    }
                    else if (!passwordPattern.test(password)) {
                        showError("passwordError", " need on upper and lower cse and one number")
                        isValid = false;
                    }
                    else {
                        clearError("passwordError")
                        isValid = true;
                    }

                    //address
                    const addressPattern =/^(?=.[A-Z])(?=.[a-z])(?=.[@$%!?&])[A-Za-z\d@#$%^&*?!]{8,}$/
                    if (password === "") {
                        showError("passwordError", "email filed is required")
                        isValid = false;
                    }


                    console.log(name, email, password, confirmpassword, address, pincode);
                    return isValid;

                };
                if (formValid()) {
                    alert("form submitted successfully");
                    registrationForm.submit();
                }
            });
        });
        //to match and check if name word satisify below rules
        //const namereg=/(?=.*[a-zA-Z0-9])/g; //g for global match and i for
        // console.log(namereg.test("hello"));

    </script>
</body>

</html>